# Online-Trading-System
NJU 2025fall Software Engineering project

一个基于Java的命令行在线交易系统，允许用户注册、登录、创建和发布商品、搜索商品以及交换联系方式。

## 功能特性

### 用户管理
- 用户注册（普通用户/管理员）
- 用户登录/登出
- 个人信息管理（查看、更新）
- 用户搜索功能

### 商品管理
- 创建商品（仅限普通用户）
- 发布/下架商品（仅限商品所有者）
- 搜索商品（按名称关键词）
- 查看个人商品列表

### 交易功能
- 获取卖家联系方式（仅限已发布的商品）
- 联系方式交换记录查看

### 管理员功能
- 用户管理（封禁/解禁用户）
- 商品管理（封禁/解禁商品）
- 查看所有用户和商品

## 系统架构

### 技术栈
- **语言**: Java
- **数据存储**: 文件序列化（.dat文件）
- **设计模式**: 面向对象设计

### 核心类结构
- `User`: 用户基类
  - `RegularUser`: 普通用户，具有商品创建、发布等权限
  - `AdminUser`: 管理员用户，具有用户和商品管理权限
- `Product`: 商品类
- `ContactExchangeRecord`: 联系方式交换记录类
- `UserService`: 用户服务类
- `ProductService`: 商品服务类
- `ContactExchangeService`: 联系方式交换服务类
- `Main`: 主程序入口

## 使用说明

### 环境要求
- Java 8 或更高版本
- 支持Java的开发环境

### 编译和运行

1. 编译所有Java文件：
   ```bash
   javac -d . main/*.java service/*.java
    ```
2. 运行主程序：
   ```bash
   java main.Main
   ```
### 使用流程
1. 启动程序后选择注册或登录
2. 普通用户可以：
- 创建和管理自己的商品
- 搜索并查看其他用户发布的商品
- 获取感兴趣商品的卖家联系方式
3. 管理员用户可以：
- 管理用户（封禁/解禁）
- 管理商品（封禁/解禁）
- 查看系统所有用户和商品信息

### 数据文件
程序运行时会生成以下数据文件：
- users.dat: 用户数据文件
- products.dat: 商品数据文件
- contact_exchanges.dat: 联系方式交换记录文件

## 设计亮点
1. 权限控制: 普通用户只能操作自己的商品，管理员具有系统管理权限
2. 数据持久化: 使用Java序列化机制实现数据持久化存储
3. 扩展性: 面向对象设计，易于扩展新功能
4. 安全性:
   - 商品只能由所有者发布/下架
   - 管理员封禁的商品无法被重新发布
   - 被封禁用户无法登录

## 未来改进方向
1. 添加数据库支持替代文件存储
2. 开发Web界面版本
3. 增加商品分类、评价等功能
4. 实现真正的交易功能（支付、订单等）
5. 添加图片上传和展示功能

## 作者
巩固，NJU2023级计算机科学与技术本科生

## 许可证
